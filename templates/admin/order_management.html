{% extends 'admin/basic/basic.html' %} {% load static %} {% block content %}

<div class="wrapper">
  {% include 'admin/basic/top_navbar.html' %} 
  
  {% include 'admin/basic/sidebar.html' %}

  <div class="content-wrapper">
    <section class="content-header">
      <div class="content-header-left">
        <h1>View Orders</h1>
      </div>
    </section>

    <section class="content">
      <div class="row">
        <div class="col-md-12">
          <div class="box box-info">
            <div class="box-body table-responsive">
              <div
                id="example1_wrapper"
                class="dataTables_wrapper form-inline dt-bootstrap no-footer"
              >
                <div class="row">
                  <div class="col-sm-6">
                    <!-- <div class="dataTables_length" id="example1_length">
                      <label
                        >Show
                        <select
                          name="example1_length"
                          aria-controls="example1"
                          class="form-control input-sm"
                        >
                          <option value="10">10</option>
                          <option value="25">25</option>
                          <option value="50">50</option>
                          <option value="100">100</option>
                        </select>
                        entries</label
                      >
                    </div> -->
                  </div>
                  <!-- <div class="col-sm-6">
                    <div id="example1_filter" class="dataTables_filter">
                      <label
                        >Search:<input
                          type="search"
                          class="form-control input-sm"
                          placeholder=""
                          aria-controls="example1"
                      /></label>
                    </div>
                  </div> -->
                </div>
                <div class="row">
                  <div class="col-sm-12">
                    <table
                      id="example1"
                      class="table table-bordered table-hover table-striped dataTable no-footer"
                      role="grid"
                      aria-describedby="example1_info"
                    >
                      <thead>
                        <tr role="row">
                          <th
                            class="sorting_asc"
                            tabindex="0"
                            aria-controls="example1"
                            rowspan="1"
                            colspan="1"
                            aria-sort="ascending"
                            aria-label="#: activate to sort column descending"
                            style="width: 18.4px"
                          >
                            #
                          </th>
                          <th
                            class="sorting"
                            tabindex="0"
                            aria-controls="example1"
                            rowspan="1"
                            colspan="1"
                            aria-label="Customer: activate to sort column ascending"
                            style="width: 115.4px"
                          >
                            Customer
                          </th>
                          <th
                            class="sorting"
                            tabindex="0"
                            aria-controls="example1"
                            rowspan="1"
                            colspan="1"
                            aria-label="Product Details: activate to sort column ascending"
                            style="width: 175.4px"
                          >
                            Product Details
                          </th>
                          <th
                            class="sorting"
                            tabindex="0"
                            aria-controls="example1"
                            rowspan="1"
                            colspan="1"
                            aria-label="
                                      Payment Information
                                  : activate to sort column ascending"
                            style="width: 208.4px"
                          >
                            Delivery Information
                          </th>
                          <th
                            class="sorting"
                            tabindex="0"
                            aria-controls="example1"
                            rowspan="1"
                            colspan="1"
                            aria-label="Paid Amount: activate to sort column ascending"
                            style="width: 101.4px"
                          >
                            Paid Amount
                          </th>
                          <th
                            class="sorting"
                            tabindex="0"
                            aria-controls="example1"
                            rowspan="1"
                            colspan="1"
                            aria-label="Payment Status: activate to sort column ascending"
                            style="width: 123.4px"
                          >
                            Payment Status
                          </th>
                          <th
                            class="sorting"
                            tabindex="0"
                            aria-controls="example1"
                            rowspan="1"
                            colspan="1"
                            aria-label="Shipping Status: activate to sort column ascending"
                            style="width: 123.4px"
                          >
                            Shipping Status
                          </th>
                          <th
                            class="sorting"
                            tabindex="0"
                            aria-controls="example1"
                            rowspan="1"
                            colspan="1"
                            aria-label="Action: activate to sort column ascending"
                            style="width: 56.2px"
                          >
                            Action
                          </th>
                        </tr>
                      </thead>
                      <tbody>
                        {% for i in all_orders %}

                        <tr class="even" role="row" style="{% if i.status == 'Pending' and i.shipping == "Pending" %} background-color: #f2af8f; {% endif %}
                        {% if i.status == 'Completed' and i.shipping == "Pending" %} background-color: #f2e38f; {% endif %}
                        {% if i.status == 'Completed' and i.shipping == 'Completed' %} background-color: lightgreen; {% endif %}">
                          <td class="sorting_1">{{forloop.counter}}</td>
                          <td>
                            <b>Id:</b> {{i.get_user.id}} <br />
                            <b>Name:</b><br />
                            {{i.get_user.full_name}}<br />
                            <b>Email:</b><br />
                            {{i.get_user.email}}<br /><br />
                            <!--
                            <a
                              href="#"
                              data-toggle="modal"
                              data-target="#model-2"
                              class="btn btn-warning btn-xs"
                              style="width: 100%; margin-bottom: 4px"
                              >Send Message</a
                            >
                            -->
                            <div id="model-2" class="modal fade" role="dialog">
                              <div class="modal-dialog">
                                <div class="modal-content">
                                  <div class="modal-header">
                                    <button
                                      type="button"
                                      class="close"
                                      data-dismiss="modal"
                                    >
                                      Ã—
                                    </button>
                                    <h4
                                      class="modal-title"
                                      style="font-weight: bold"
                                    >
                                      Send Message
                                    </h4>
                                  </div>
                                  <div
                                    class="modal-body"
                                    style="font-size: 14px"
                                  >
                                    <form action="" method="post">
                                      <input
                                        type="hidden"
                                        name="cust_id"
                                        value="3"
                                      />
                                      <input
                                        type="hidden"
                                        name="payment_id"
                                        value="1647798593"
                                      />
                                      <table class="table table-bordered">
                                        <tbody>
                                          <tr>
                                            <td>Subject</td>
                                            <td>
                                              <input
                                                type="text"
                                                name="subject_text"
                                                class="form-control"
                                                style="width: 100%"
                                              />
                                            </td>
                                          </tr>
                                          <tr>
                                            <td>Message</td>
                                            <td>
                                              <textarea
                                                name="message_text"
                                                class="form-control"
                                                cols="30"
                                                rows="10"
                                                style="
                                                  width: 100%;
                                                  height: 200px;
                                                "
                                              ></textarea>
                                            </td>
                                          </tr>
                                          <tr>
                                            <td></td>
                                            <td>
                                              <input
                                                type="submit"
                                                value="Send Message"
                                                name="form1"
                                              />
                                            </td>
                                          </tr>
                                        </tbody>
                                      </table>
                                    </form>
                                  </div>
                                  <div class="modal-footer">
                                    <button
                                      type="button"
                                      class="btn btn-default"
                                      data-dismiss="modal"
                                    >
                                      Close
                                    </button>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </td>
                          <td>
                            <b>Product Name:</b><br>
                            <span style="color: blue;"><b>{{i.product.product.product_name}}</b></span
                            ><br />
                            <b>Size:</b>
                            <span style="color: green"><b>{{i.product.size}}</b></span
                            ><br />
                            <b>Color:</b>
                            <span style="color: green"><b>{{i.product.color}}</b></span
                            ><br />
                            <b>Quantity:</b>
                            <span style="color: green"><b>{{i.product.quantity}}</b></span
                            ><br />
                          </td>
                          <td>
                            <b>Delivery Type:</b>
                            <span style="color: red"><b>{{i.delivery_type}}</b></span
                            ><br />
                            <b>Date:</b> {{i.issue_date}}<br />
                            <b>Charges: </b> <br />
                            <span style="color: red"><b>
                                {% if i.delivery_type == "express" %}
                                    Express: 300 RS
                                {% elif i.delivery_type == 'standard' %}
                                    Standard: 200 RS
                                {% endif %}
                            </b></span
                                >
                          </td>
                          <td>Total : <span style="color: red; font-weight: bold;">{{i.product.total}}</span></td>
                          <td>
                            {% if i.status == 'Completed' %}
                                <a href="#" class="btn btn-success btn-sm">Completed</a>
                            {% elif i.status == 'Pending' %}
                                <a href="{% url 'order_status_changed' i.id %}" class="btn btn-warning btn-sm">Mark For Completing</a>
                            {% else %}
                                Hello
                            {% endif %}
                          </td>
                          <td style="margin-left: auto; margin-right: auto;">
                            {% if i.status == 'Completed' %}
                            {% if i.shipping == "Completed" %}
                                <a href="#" class="btn btn-success btn-sm">Shipped</a>
                            {% elif i.shipping == 'Pending' %}
                                <a href="{% url 'shipping_status_changed' i.id %}" class="btn btn-warning btn-sm">Mark For Shipped</a>
                            {% endif %}
                            {% endif %}
                          </td>
                          <td>
                            <a onclick="return confirm('Are you sure you want to delete this item?')"
                              href="{% url 'delete_order' i.id %}"
                              class="btn btn-danger btn-xs"
                              style="width: 100%"
                              >Delete</a
                            >
                          </td>
                        </tr>
                        {% endfor %}
                      </tbody>
                    </table>
                  </div>
                </div>
               <!--  <div class="row">
                  <div class="col-sm-5">
                    <div
                      class="dataTables_info"
                      id="example1_info"
                      role="status"
                      aria-live="polite"
                    >
                      Showing 1 to 2 of 2 entries
                    </div>
                  </div>
                  <div class="col-sm-7">
                    <div
                      class="dataTables_paginate paging_simple_numbers"
                      id="example1_paginate"
                    >
                      <ul class="pagination">
                        <li
                          class="paginate_button previous disabled"
                          id="example1_previous"
                        >
                          <a
                            href="#"
                            aria-controls="example1"
                            data-dt-idx="0"
                            tabindex="0"
                            >Previous</a
                          >
                        </li>
                        <li class="paginate_button active">
                          <a
                            href="#"
                            aria-controls="example1"
                            data-dt-idx="1"
                            tabindex="0"
                            >1</a
                          >
                        </li>
                        <li
                          class="paginate_button next disabled"
                          id="example1_next"
                        >
                          <a
                            href="#"
                            aria-controls="example1"
                            data-dt-idx="2"
                            tabindex="0"
                            >Next</a
                          >
                        </li>
                      </ul>
                    </div>
                  </div>
                </div> -->
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <div
      class="modal fade"
      id="confirm-delete"
      tabindex="-1"
      role="dialog"
      aria-labelledby="myModalLabel"
      aria-hidden="true"
    >
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <button
              type="button"
              class="close"
              data-dismiss="modal"
              aria-hidden="true"
            >
              &times;
            </button>
            <h4 class="modal-title" id="myModalLabel">Delete Confirmation</h4>
          </div>
          <div class="modal-body">Sure you want to delete this item?</div>
          <div class="modal-footer">
            <button type="button" class="btn btn-default" data-dismiss="modal">
              Cancel
            </button>
            <a class="btn btn-danger btn-ok">Delete</a>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<script src="js/jquery-2.2.4.min.js"></script>
<script src="js/bootstrap.min.js"></script>
<script src="js/jquery.dataTables.min.js"></script>
<script src="js/dataTables.bootstrap.min.js"></script>
<script src="js/select2.full.min.js"></script>
<script src="js/jquery.inputmask.js"></script>
<script src="js/jquery.inputmask.date.extensions.js"></script>
<script src="js/jquery.inputmask.extensions.js"></script>
<script src="js/moment.min.js"></script>
<script src="js/bootstrap-datepicker.js"></script>
<script src="js/icheck.min.js"></script>
<script src="js/fastclick.js"></script>
<script src="js/jquery.sparkline.min.js"></script>
<script src="js/jquery.slimscroll.min.js"></script>
<script src="js/jquery.fancybox.pack.js"></script>
<script src="js/app.min.js"></script>
<script src="js/jscolor.js"></script>
<script src="js/on-off-switch.js"></script>
<script src="js/on-off-switch-onload.js"></script>
<script src="js/clipboard.min.js"></script>
<script src="js/demo.js"></script>
<script src="js/summernote.js"></script>

<script>
  $(document).ready(function () {
    $("#editor1").summernote({
      height: 300,
    });
    $("#editor2").summernote({
      height: 300,
    });
    $("#editor3").summernote({
      height: 300,
    });
    $("#editor4").summernote({
      height: 300,
    });
    $("#editor5").summernote({
      height: 300,
    });
  });
  $(".top-cat").on("change", function () {
    var id = $(this).val();
    var dataString = "id=" + id;
    $.ajax({
      type: "POST",
      url: "get-mid-category.php",
      data: dataString,
      cache: false,
      success: function (html) {
        $(".mid-cat").html(html);
      },
    });
  });
  $(".mid-cat").on("change", function () {
    var id = $(this).val();
    var dataString = "id=" + id;
    $.ajax({
      type: "POST",
      url: "get-end-category.php",
      data: dataString,
      cache: false,
      success: function (html) {
        $(".end-cat").html(html);
      },
    });
  });
</script>

<script>
  $(function () {
    //Initialize Select2 Elements
    $(".select2").select2();

    //Datemask dd/mm/yyyy
    $("#datemask").inputmask("dd-mm-yyyy", { placeholder: "dd-mm-yyyy" });
    //Datemask2 mm/dd/yyyy
    $("#datemask2").inputmask("mm-dd-yyyy", { placeholder: "mm-dd-yyyy" });
    //Money Euro
    $("[data-mask]").inputmask();

    //Date picker
    $("#datepicker").datepicker({
      autoclose: true,
      format: "dd-mm-yyyy",
      todayBtn: "linked",
    });

    $("#datepicker1").datepicker({
      autoclose: true,
      format: "dd-mm-yyyy",
      todayBtn: "linked",
    });

    //iCheck for checkbox and radio inputs
    $('input[type="checkbox"].minimal, input[type="radio"].minimal').iCheck({
      checkboxClass: "icheckbox_minimal-blue",
      radioClass: "iradio_minimal-blue",
    });
    //Red color scheme for iCheck
    $(
      'input[type="checkbox"].minimal-red, input[type="radio"].minimal-red'
    ).iCheck({
      checkboxClass: "icheckbox_minimal-red",
      radioClass: "iradio_minimal-red",
    });
    //Flat red color scheme for iCheck
    $('input[type="checkbox"].flat-red, input[type="radio"].flat-red').iCheck({
      checkboxClass: "icheckbox_flat-green",
      radioClass: "iradio_flat-green",
    });

    $("#example1").DataTable();
    $("#example2").DataTable({
      paging: true,
      lengthChange: false,
      searching: false,
      ordering: true,
      info: true,
      autoWidth: false,
    });

    $("#confirm-delete").on("show.bs.modal", function (e) {
      $(this).find(".btn-ok").attr("href", $(e.relatedTarget).data("href"));
    });

    $("#confirm-approve").on("show.bs.modal", function (e) {
      $(this).find(".btn-ok").attr("href", $(e.relatedTarget).data("href"));
    });
  });

  function confirmDelete() {
    return confirm("Are you sure want to delete this data?");
  }
  function confirmActive() {
    return confirm("Are you sure want to Active?");
  }
  function confirmInactive() {
    return confirm("Are you sure want to Inactive?");
  }
</script>

<script type="text/javascript">
  function showDiv(elem) {
    if (elem.value == 0) {
      document.getElementById("photo_div").style.display = "none";
      document.getElementById("icon_div").style.display = "none";
    }
    if (elem.value == 1) {
      document.getElementById("photo_div").style.display = "block";
      document.getElementById("photo_div_existing").style.display = "block";
      document.getElementById("icon_div").style.display = "none";
    }
    if (elem.value == 2) {
      document.getElementById("photo_div").style.display = "none";
      document.getElementById("photo_div_existing").style.display = "none";
      document.getElementById("icon_div").style.display = "block";
    }
  }
  function showContentInputArea(elem) {
    if (elem.value == "Full Width Page Layout") {
      document.getElementById("showPageContent").style.display = "block";
    } else {
      document.getElementById("showPageContent").style.display = "none";
    }
  }
</script>

<script type="text/javascript">
  $(document).ready(function () {
    $("#btnAddNew").click(function () {
      var rowNumber = $("#ProductTable tbody tr").length;

      var trNew = "";

      var addLink =
        '<div class="upload-btn' +
        rowNumber +
        '"><input type="file" name="photo[]"  style="margin-bottom:5px;"></div>';

      var deleteRow =
        '<a href="javascript:void()" class="Delete btn btn-danger btn-xs">X</a>';

      trNew = trNew + "<tr> ";

      trNew += "<td>" + addLink + "</td>";
      trNew += '<td style="width:28px;">' + deleteRow + "</td>";

      trNew = trNew + " </tr>";

      $("#ProductTable tbody").append(trNew);
    });

    $("#ProductTable").delegate("a.Delete", "click", function () {
      $(this).parent().parent().fadeOut("slow").remove();
      return false;
    });
  });

  var items = [];
  for (i = 1; i <= 24; i++) {
    items[i] = document.getElementById("tabField" + i);
  }

  items[1].style.display = "block";
  items[2].style.display = "block";
  items[3].style.display = "block";
  items[4].style.display = "none";

  items[5].style.display = "block";
  items[6].style.display = "block";
  items[7].style.display = "block";
  items[8].style.display = "none";

  items[9].style.display = "block";
  items[10].style.display = "block";
  items[11].style.display = "block";
  items[12].style.display = "none";

  items[13].style.display = "block";
  items[14].style.display = "block";
  items[15].style.display = "block";
  items[16].style.display = "none";

  items[17].style.display = "block";
  items[18].style.display = "block";
  items[19].style.display = "block";
  items[20].style.display = "none";

  items[21].style.display = "block";
  items[22].style.display = "block";
  items[23].style.display = "block";
  items[24].style.display = "none";

  function funcTab1(elem) {
    var txt = elem.value;
    if (txt == "Image Advertisement") {
      items[1].style.display = "block";
      items[2].style.display = "block";
      items[3].style.display = "block";
      items[4].style.display = "none";
    }
    if (txt == "Adsense Code") {
      items[1].style.display = "none";
      items[2].style.display = "none";
      items[3].style.display = "none";
      items[4].style.display = "block";
    }
  }

  function funcTab2(elem) {
    var txt = elem.value;
    if (txt == "Image Advertisement") {
      items[5].style.display = "block";
      items[6].style.display = "block";
      items[7].style.display = "block";
      items[8].style.display = "none";
    }
    if (txt == "Adsense Code") {
      items[5].style.display = "none";
      items[6].style.display = "none";
      items[7].style.display = "none";
      items[8].style.display = "block";
    }
  }

  function funcTab3(elem) {
    var txt = elem.value;
    if (txt == "Image Advertisement") {
      items[9].style.display = "block";
      items[10].style.display = "block";
      items[11].style.display = "block";
      items[12].style.display = "none";
    }
    if (txt == "Adsense Code") {
      items[9].style.display = "none";
      items[10].style.display = "none";
      items[11].style.display = "none";
      items[12].style.display = "block";
    }
  }

  function funcTab4(elem) {
    var txt = elem.value;
    if (txt == "Image Advertisement") {
      items[13].style.display = "block";
      items[14].style.display = "block";
      items[15].style.display = "block";
      items[16].style.display = "none";
    }
    if (txt == "Adsense Code") {
      items[13].style.display = "none";
      items[14].style.display = "none";
      items[15].style.display = "none";
      items[16].style.display = "block";
    }
  }

  function funcTab5(elem) {
    var txt = elem.value;
    if (txt == "Image Advertisement") {
      items[17].style.display = "block";
      items[18].style.display = "block";
      items[19].style.display = "block";
      items[20].style.display = "none";
    }
    if (txt == "Adsense Code") {
      items[17].style.display = "none";
      items[18].style.display = "none";
      items[19].style.display = "none";
      items[20].style.display = "block";
    }
  }

  function funcTab6(elem) {
    var txt = elem.value;
    if (txt == "Image Advertisement") {
      items[21].style.display = "block";
      items[22].style.display = "block";
      items[23].style.display = "block";
      items[24].style.display = "none";
    }
    if (txt == "Adsense Code") {
      items[21].style.display = "none";
      items[22].style.display = "none";
      items[23].style.display = "none";
      items[24].style.display = "block";
    }
  }
</script>

{% endblock %}
